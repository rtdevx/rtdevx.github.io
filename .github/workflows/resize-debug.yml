name: Resize photography images

on:
  workflow_dispatch:

jobs:
  resize:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Debug - list photography files
        run: |
          echo "Listing content/photography"
          find content/photography -type f -iname '*.jpg' -o -iname '*.jpeg' -o -iname '*.png' -print || true

      - name: Resize images (use existing branch)
        uses: gonzalonaveira/gh-image-resizing@master
        with:
          IMAGES_MAX_WIDTH: 400
          IMAGES_QUALITY: 90
          IMAGES_FORMATS: "jpg,jpeg,png,webp"
          IMAGES_DIRECTORIES: "content/photography"
          IMAGES_SUFFIX: "-resized"
          DEBUG: true