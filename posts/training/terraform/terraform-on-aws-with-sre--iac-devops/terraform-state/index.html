<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>Terraform State &#183; robk.uk</title><meta name=title content="Terraform State &#183; robk.uk"><script type=text/javascript src=https://robk.uk/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=https://robk.uk/css/main.bundle.min.98975d7e607856cc4215d8a1b5f3ea5576c7756dcdeeb074049f204a29fe570a.css integrity="sha256-mJddfmB4VsxCFdihtfPqVXbHdW3N7rB0BJ8gSin+Vwo="><script defer type=text/javascript id=script-bundle src=https://robk.uk/js/main.bundle.min.d97ddc5ab27d9f764a39a1e9c14f27b5583e3d47287e6278766921e42cb09f55.js integrity="sha256-2X3cWrJ9n3ZKOaHpwU8ntVg+PUcofmJ4dmkh5Cywn1U=" data-copy=Copy data-copied=Copied></script><meta name=description content="
      Terraform must store state about your managed infrastructure and configuration...
    "><link rel=canonical href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/"><meta property="og:site_name" content="robk.uk"><meta property="og:title" content="Terraform State"><meta property="og:description" content="Terraform must store state about your managed infrastructure and configuration..."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-28T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-28T00:00:00+00:00"><meta property="article:tag" content="Terraform"><meta property="article:tag" content="HCTA0-003"><meta property="og:image" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured.png"><meta property="og:see_also" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-resource-block-reference/"><meta property="og:see_also" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-expressions/"><meta property="og:see_also" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/20-terraform-modules/"><meta property="og:see_also" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/06-vpc/"><meta property="og:see_also" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/05-loops-metaarguments-splatoperat-functions/"><meta property="og:see_also" content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/03-settings-providers-resources/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured.png"><meta name=twitter:title content="Terraform State"><meta name=twitter:description content="Terraform must store state about your managed infrastructure and configuration..."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"ğŸ”°Posts","name":"Terraform State","headline":"Terraform State","description":"Terraform must store state about your managed infrastructure and configuration...","abstract":"Terraform must store state about your managed infrastructure and configuration\u0026hellip;","inLanguage":"en","url":"https:\/\/robk.uk\/posts\/training\/terraform\/terraform-on-aws-with-sre--iac-devops\/terraform-state\/","author":{"@type":"Person","name":"RobK"},"copyrightYear":"2025","dateCreated":"2025-10-28T00:00:00\u002b00:00","datePublished":"2025-10-28T00:00:00\u002b00:00","dateModified":"2025-10-28T00:00:00\u002b00:00","keywords":["Terraform","HCTA0-003"],"mainEntityOfPage":"true","wordCount":"1080"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://robk.uk/","name":"Welcome My Dev Ops Blog.","position":1},{"@type":"ListItem","item":"https://robk.uk/posts/","name":"Posts","position":2},{"@type":"ListItem","item":"https://robk.uk/posts/training/","name":"My Trainings","position":3},{"@type":"ListItem","item":"https://robk.uk/posts/training/terraform/","name":"Terraform Trainings and Certifications","position":4},{"@type":"ListItem","item":"https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/","name":"Terraform on Aws With Sre \u0026 Ia C Dev Ops","position":5},{"@type":"ListItem","item":"https://robk.uk/categories/devops/","name":"DevOps","position":6},{"@type":"ListItem","name":"Terraform State","position":7}]}</script><meta name=author content="RobK"><link href=https://github.com/rtdevx rel=me><link href=https://linkedin.com/in/robertkls rel=me></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="z-40 flex flex-row items-center"><a href=/ class=mr-2><img src=https://robk.uk/img/logo.png width=96 height=48 class="max-h-[10rem] max-w-[10rem] object-scale-down object-left" alt=robk.uk></a></div><label id=menu-button for=menu-controller class="block sm:hidden"><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="invisible fixed inset-0 z-30 m-auto h-full w-full cursor-default overflow-auto bg-neutral-100/50 opacity-0 backdrop-blur-sm transition-opacity dark:bg-neutral-900/50"><ul class="mx-auto flex w-full max-w-7xl list-none flex-col overflow-visible px-6 py-6 text-end sm:px-14 sm:py-10 sm:pt-10 md:px-24 lg:px-32"><li class=mb-1><span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class="group mb-1"><a href=/posts/ title=ğŸ”°Posts onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></span></a></li><li class="group mb-1"><a href=/categories/ title=Categories onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1.0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7.0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5.0 278.1.0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6H135.3zm358.1.0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6H493.4z"/></svg></span></span></a></li><li class="group mb-1"><a href=/tags/ title=Tags onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M48 32H197.5c17 0 33.2 6.74 45.2 18.75l176 175.95c25 25 25 65.6.0 90.6L285.3 450.7c-25 25-65.6 25-90.6.0L18.75 274.7C6.743 262.7.0 246.5.0 229.5V80C0 53.49 21.49 32 48 32zm64 144c17.7.0 32-14.3 32-32 0-17.7-14.3-32-32-32-17.67.0-32 14.3-32 32s14.33 32 32 32z"/></svg></span></span></a></li><li class="group mb-1"><a href=/posts/cheatsheets/ title="ğŸ—‚ï¸Cheat Sheets" onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 16 16"><path fill="currentColor" d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/><path fill="currentColor" d="M0 2a2 2 0 012-2h7a2 2 0 012 2v3h3a2 2 0 012 2v7a2 2 0 01-2 2H7a2 2 0 01-2-2v-3H2A2 2 0 010 9V2zm2-1A1 1 0 001 2v7a1 1 0 001 1h7a1 1 0 001-1V2A1 1 0 009 1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066.0 01-.415-.492 1.988 1.988.0 01-.94.31z"/></svg></span></span></a></li><li class="group mb-1"><button id=search-button-1 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></div></label><ul class="hidden list-none flex-row text-end sm:flex"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/ title=ğŸ”°Posts><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/categories/ title=Categories><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1.0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7.0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5.0 278.1.0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6H135.3zm358.1.0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6H493.4z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/tags/ title=Tags><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M48 32H197.5c17 0 33.2 6.74 45.2 18.75l176 175.95c25 25 25 65.6.0 90.6L285.3 450.7c-25 25-65.6 25-90.6.0L18.75 274.7C6.743 262.7.0 246.5.0 229.5V80C0 53.49 21.49 32 48 32zm64 144c17.7.0 32-14.3 32-32 0-17.7-14.3-32-32-32-17.67.0-32 14.3-32 32s14.33 32 32 32z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/cheatsheets/ title="ğŸ—‚ï¸Cheat Sheets"><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 16 16"><path fill="currentColor" d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/><path fill="currentColor" d="M0 2a2 2 0 012-2h7a2 2 0 012 2v3h3a2 2 0 012 2v7a2 2 0 01-2 2H7a2 2 0 01-2-2v-3H2A2 2 0 010 9V2zm2-1A1 1 0 001 2v7a1 1 0 001 1h7a1 1 0 001-1V2A1 1 0 009 1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066.0 01-.415-.492 1.988 1.988.0 01-.94.31z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=search-button-2 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/>Welcome my DevOps blog.</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/>ğŸ”°Posts</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/training/>ğŸ—‚ï¸My Trainings</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/training/terraform/>Terraform Trainings and Certifications</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/>Terraform on AWS with SRE & IaC DevOps</a><span class="px-1 text-primary-500">/</span></li><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/>Terraform State</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Terraform State</h1><div class=mb-4><div class="text-sm text-neutral-600 dark:text-neutral-400">ğŸ“š Part 8 of 8: <i>"Terraform on AWS"</i> series.</div><div class="text-sm mt-1"><a href=/series/terraform-on-aws/ class="text-primary-600 dark:text-primary-400 hover:underline">â† Back to series overview</a></div></div><br><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2025-10-28 00:00:00 +0000 UTC">28 October 2025</time><span class="px-2 text-primary-500">&#183;</span><span>1080 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">6 mins</span></div><div class="my-1 flex flex-wrap text-xs leading-relaxed text-neutral-500 dark:text-neutral-400"><a href=https://robk.uk/categories/devops/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">DevOps</a>
<a href=https://robk.uk/categories/iac/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">IaC</a>
<a href=https://robk.uk/series/terraform-on-aws/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Terraform on AWS</a>
<a href=https://robk.uk/tags/terraform/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Terraform</a>
<a href=https://robk.uk/tags/hcta0-003/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">HCTA0-003</a></div></div><div class=prose><picture class="mb-6 rounded-md"><source srcset="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_3161edec5b1dfebb.webp 330w,https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_defad3b7483f2d62.webp 660w
,https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_886f519ddebd9d2e.webp 834w
,https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_886f519ddebd9d2e.webp 834w" sizes=100vw type=image/webp><img width=834 height=508 class="mb-6 rounded-md" src=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_279c0c5e732f9dd3.png srcset="https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_7e58743acfcf2170.png 330w,https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured_hu_279c0c5e732f9dd3.png 660w
,https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured.png 834w
,https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-state/featured.png 834w" sizes=100vw></picture></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8"><div class="toc pe-5 lg:sticky lg:top-10 print:hidden"><details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5"><summary class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#terraform-state-commands><code>terraform state</code> commands</a><ul><li><a href=#terraform-state-list><code>terraform state list</code></a></li><li><a href=#terraform-state-mv><code>terraform state mv</code></a></li><li><a href=#terraform-state-pull><code>terraform state pull</code></a></li><li><a href=#terraform-state-replace-provider><code>terraform state replace-provider</code></a></li><li><a href=#terraform-state-rm><code>terraform state rm</code></a></li><li><a href=#terraform-state-show><code>terraform state show</code></a></li></ul></li><li><a href=#remote-state>Remote State</a></li><li><a href=#backups>Backups</a></li><li><a href=#terraform-backend>Terraform backend</a></li><li><a href=#-sources->&#187; Sources &#171;</a></li></ul></nav></div></details></div></div><div class="min-h-0 min-w-0 max-w-prose grow"><div class="lead !mb-9 text-xl"><p>Terraform must store state about your managed infrastructure and configuration. <font color=#C7EB25>This state is used by Terraform to map real world resources to your configuration, keep track of metadata, and to improve performance</font> for large infrastructures.</p><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/language/state target=_blank rel=noreferrer>https://developer.hashicorp.com/terraform/language/state</a></p></div><h2 id=terraform-state-commands class="relative group"><code>terraform state</code> commands <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-commands aria-label=Anchor>#</a></span></h2><p>Refer to the following subcommands for additional information:</p><h3 id=terraform-state-list class="relative group"><code>terraform state list</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-list aria-label=Anchor>#</a></span></h3><p><strong>Usage:</strong>Â <code>terraform state list [options] [address...]</code></p><p>The command will list all resources in the state file matching the given addresses (if any). If no addresses are given, all resources are listed.</p><p>The resources listed are sorted according to module depth order followed alphabetically. This means that resources that are in your immediate configuration are listed first, and resources that are more deeply nested within modules are listed last.</p><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/cli/commands/state/list target=_blank rel=noreferrer><code>terraform state list</code></a></p><h3 id=terraform-state-mv class="relative group"><code>terraform state mv</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-mv aria-label=Anchor>#</a></span></h3><p>TheÂ <code>terraform state mv</code>Â command changes bindings in Terraform state so that existing remote objects bind to new resource instances.</p><p><strong>Usage:</strong>Â <code>terraform state mv [options] SOURCE DESTINATION</code></p><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300><font color=#EB4925>Warning:</font>Â If you are using Terraform in a collaborative environment, you must ensure that when you are usingÂ <code>terraform state mv</code>Â for a code refactoring purpose you communicate carefully with your coworkers to ensure that nobody makes any other changes between your configuration change and yourÂ <code>terraform state mv</code>Â command, because otherwise they might inadvertently create a plan that will destroy the old object and create a new object at the new address.</span></div><p><ins><i>Example:</i></ins> Rename a Resource</p><p>Renaming a resource means making a configuration change like the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>resource <span class=s2>&#34;packet_device&#34;</span> <span class=s2>&#34;worker&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>resource <span class=s2>&#34;packet_device&#34;</span> <span class=s2>&#34;helper&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>   <span class=c1># ...</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span></code></pre></div><p>To tell Terraform that it should treat the new &ldquo;helper&rdquo; resource as a rename of the old &ldquo;worker&rdquo; resource, you can pair the above configuration change with the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>terraform state mv packet_device.worker packet_device.helper
</span></span></code></pre></div><p><ins><i>Example:</i></ins> Move a Resource Into a Module</p><p>If you originally wrote a resource in your root module but now wish to refactor it into a child module, you can move theÂ <code>resource</code>Â block into the child module configuration, removing the original in the root module, and then run the following command to tell Terraform to treat it as a move:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>terraform state mv packet_device.worker module.worker.packet_device.worker
</span></span></code></pre></div><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/cli/commands/state/mv target=_blank rel=noreferrer><code>terraform state mv</code></a></p><h3 id=terraform-state-pull class="relative group"><code>terraform state pull</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-pull aria-label=Anchor>#</a></span></h3><p>TheÂ <code>terraform state pull</code>Â downloads and outputs state information from aÂ <a href=https://developer.hashicorp.com/terraform/language/state/remote target=_blank rel=noreferrer>remote state</a>Â or local state.</p><p><strong>Usage:</strong>Â <code>terraform state pull</code></p><p>This command downloads the state from its current location, upgrades the local copy to the latest state file version that is compatible with locally-installed Terraform, and outputs the raw format to stdout.</p><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/cli/commands/state/pull target=_blank rel=noreferrer><code>terraform state pull</code></a></p><h3 id=terraform-state-replace-provider class="relative group"><code>terraform state replace-provider</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-replace-provider aria-label=Anchor>#</a></span></h3><p>TheÂ <code>terraform state replace-provider</code>Â command replaces the provider for resources in aÂ <a href=https://developer.hashicorp.com/terraform/language/state target=_blank rel=noreferrer>Terraform state</a>.</p><p><strong>Usage:</strong>Â <code>terraform state replace-provider [options] FROM_PROVIDER_FQN TO_PROVIDER_FQN</code></p><p>This command will update all resources using the &ldquo;from&rdquo; provider, setting the provider to the specified &ldquo;to&rdquo; provider. This allows changing the source of a provider which currently has resources in state.</p><p><ins><i>Example:</i></ins> Replace Terraform provider</p><p>The example below replaces theÂ <code>hashicorp/aws</code>Â provider with a fork byÂ <code>acme</code>, hosted at a private registry atÂ <code>registry.acme.corp</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ terraform state replace-provider hashicorp/aws registry.acme.corp/acme/aws
</span></span></code></pre></div><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/cli/commands/state/replace-provider target=_blank rel=noreferrer><code>terraform state replace-provider</code></a></p><h3 id=terraform-state-rm class="relative group"><code>terraform state rm</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-rm aria-label=Anchor>#</a></span></h3><p>TheÂ <code>terraform state rm</code>Â command removes the binding to an existing remote object without first destroying it. The remote object continues to exist but is no longer managed by Terraform.</p><p><strong>Usage:</strong>Â <code>terraform state rm [options] ADDRESS...</code></p><p>Terraform will search the state for any instances matching the givenÂ <a href=https://developer.hashicorp.com/terraform/cli/state/resource-addressing target=_blank rel=noreferrer>resource address</a>, and remove the record of each one so that Terraform will no longer be tracking the corresponding remote objects.</p><p>This means that although the objects will still continue to exist in the remote system, a subsequentÂ <a href=https://developer.hashicorp.com/terraform/cli/commands/plan target=_blank rel=noreferrer><code>terraform plan</code></a>Â will include an action to create a new object for each of the &ldquo;forgotten&rdquo; instances. Depending on the constraints imposed by the remote system, creating those objects might fail if their names or other identifiers conflict with the old objects still present.</p><p><ins><i>Example:</i></ins> Remove all Instances of a Resource</p><p>The following example will cause Terraform to &ldquo;forget&rdquo; all of the instances of theÂ <code>packet_device</code>Â resource named &ldquo;worker&rdquo;.</p><pre tabindex=0><code>$ terraform state rm &#39;packet_device.worker&#39;
</code></pre><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/cli/commands/state/rm target=_blank rel=noreferrer><code>terraform state rm</code></a></p><h3 id=terraform-state-show class="relative group"><code>terraform state show</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-state-show aria-label=Anchor>#</a></span></h3><p>TheÂ <code>terraform state show</code>Â command shows the attributes of a single resource in theÂ <a href=https://developer.hashicorp.com/terraform/language/state target=_blank rel=noreferrer>Terraform state</a>.</p><p><strong>Usage:</strong>Â <code>terraform state show [options] ADDRESS</code></p><p>The command will show the attributes of a single resource in the state file that matches the given address.</p><p><ins><i>Example:</i></ins> Show a Resource</p><p>The example below shows aÂ <code>packet_device</code>Â resource namedÂ <code>worker</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ terraform state show <span class=s1>&#39;packet_device.worker&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># packet_device.worker:</span>
</span></span><span class=line><span class=cl>resource <span class=s2>&#34;packet_device&#34;</span> <span class=s2>&#34;worker&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>billing_cycle</span> <span class=o>=</span> <span class=s2>&#34;hourly&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>created</span>       <span class=o>=</span> <span class=s2>&#34;2015-12-17T00:06:56Z&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>facility</span>      <span class=o>=</span> <span class=s2>&#34;ewr1&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>hostname</span>      <span class=o>=</span> <span class=s2>&#34;prod-xyz01&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>id</span>            <span class=o>=</span> <span class=s2>&#34;6015bg2b-b8c4-4925-aad2-f0671d5d3b13&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>locked</span>        <span class=o>=</span> <span class=nb>false</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>terraform state show</code> works very well in combination with <code>terraform state list</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>â¯ terraform state list
</span></span><span class=line><span class=cl>data.aws_availability_zones.available
</span></span><span class=line><span class=cl>module.vpc.aws_db_subnet_group.database<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>module.vpc.aws_default_network_acl.this<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>module.vpc.aws_default_route_table.default<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>module.vpc.aws_default_security_group.this<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>module.vpc.aws_eip.nat<span class=o>[</span>0<span class=o>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>terraform state show <span class=s1>&#39;module.vpc.aws_eip.nat[0]&#39;</span>
</span></span></code></pre></div><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/cli/commands/state/show target=_blank rel=noreferrer><code>terraform state show</code></a></p><h2 id=remote-state class="relative group">Remote State <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#remote-state aria-label=Anchor>#</a></span></h2><p>The Terraform state subcommands all work with remote state just as if it was local state. Reads and writes may take longer than normal as each read and each write do a full network roundtrip. Otherwise, backups are still written to disk and the CLI usage is the same as if it were local state.</p><h2 id=backups class="relative group">Backups <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#backups aria-label=Anchor>#</a></span></h2><p>AllÂ <code>terraform state</code>Â subcommands that modify the state write backup files. The path of these backup file can be controlled withÂ <code>-backup</code>.</p><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300>Note that <font color=#EB4925>backups for state modificationÂ can not be disabled</font>. Due to the sensitivity of the state file, Terraform forces every state modification command to write a backup file. You&rsquo;ll have to remove these files manually if you don&rsquo;t want to keep them around.</span></div><h2 id=terraform-backend class="relative group">Terraform backend <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terraform-backend aria-label=Anchor>#</a></span></h2><p>Terraform uses persisted state data to keep track of the resources it manages. You can eitherÂ <a href=https://developer.hashicorp.com/terraform/language/terraform#terraform-cloud target=_blank rel=noreferrer>integrate with HCP Terraform</a>Â to store state data or define aÂ <code>backend</code>Â block to store state in a remote object. This lets multiple people access the state data and work together on that collection of infrastructure resources.</p><p>To configure a backend, add a nestedÂ <code>backend</code>Â block within the top-levelÂ <code>terraform</code>Â block. The following example configures theÂ <code>remote</code>Â backend.</p><p><em>File:</em> ğŸ“„providers.tf</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>terraform <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>required_version</span> <span class=o>=</span> <span class=s2>&#34;~&gt; 1.14.0&#34;</span> 
</span></span><span class=line><span class=cl>  required_providers <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>aws</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=nb>source</span>  <span class=o>=</span> <span class=s2>&#34;hashicorp/aws&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nv>version</span> <span class=o>=</span> <span class=s2>&#34;~&gt; 6.0&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># INFO: S3 Backend Block</span>
</span></span><span class=line><span class=cl>  backend <span class=s2>&#34;s3&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>bucket</span> <span class=o>=</span> <span class=s2>&#34;your-backend-s3-bucket&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>key</span>    <span class=o>=</span> <span class=s2>&#34;terraform-core/aws-codepipelines/terraform.tfstate&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>region</span> <span class=o>=</span> <span class=s2>&#34;eu-west-2&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>dynamodb_table</span> <span class=o>=</span> <span class=s2>&#34;prod-s3backend-lock&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>encrypt</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><font color=#EBAC25><i>More info:</i></font> <a href=https://developer.hashicorp.com/terraform/language/backend target=_blank rel=noreferrer>Terraform Backend</a></p><hr><h2 id=-sources- class="relative group">&#187; Sources &#171; <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#-sources- aria-label=Anchor>#</a></span></h2><ul><li><a href=https://developer.hashicorp.com/terraform/language/state target=_blank rel=noreferrer><code>terraform state</code></a></li></ul><p>Terraform state commands:</p><ul><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state target=_blank rel=noreferrer>terraform state commands reference</a></p></li><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state/list target=_blank rel=noreferrer><code>terraform state list</code></a></p></li><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state/mv target=_blank rel=noreferrer><code>terraform state mv</code></a></p></li><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state/pull target=_blank rel=noreferrer><code>terraform state pull</code></a></p></li><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state/replace-provider target=_blank rel=noreferrer><code>terraform state replace-provider</code></a></p></li><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state/rm target=_blank rel=noreferrer><code>terraform state rm</code></a></p></li><li><p><a href=https://developer.hashicorp.com/terraform/cli/commands/state/show target=_blank rel=noreferrer><code>terraform state show</code></a></p></li></ul><p>Terraform Backend:</p><ul><li><a href=https://developer.hashicorp.com/terraform/language/backend target=_blank rel=noreferrer>Terraform Backend</a></li></ul></div></section></article><div class="not-prose max-w-prose pt-8 print:hidden"><div class="not-prose mt-12 p-6 border border-neutral-300 dark:border-neutral-700 rounded-lg bg-neutral-50 dark:bg-neutral-900"><div class=h-8></div><center><h2 class="text-xl font-semibold mb-2">Series Overview: Terraform on AWS</h2></center><center><p class="text-sm text-neutral-600 dark:text-neutral-400 mb-4">8 parts in this series.
<a href=/series/terraform-on-aws/ class="text-primary-600 dark:text-primary-400 hover:underline">View full series â†’</a></p></center><div class=h-8></div><ul class=space-y-2><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;1.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/02-terraform-basics/ class="text-primary-600 dark:text-primary-400 hover:underline block">Terraform: Basics</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;2.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/03-settings-providers-resources/ class="text-primary-600 dark:text-primary-400 hover:underline block">Terraform: Settings, Providers and Resources</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;3.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/05-loops-metaarguments-splatoperat-functions/ class="text-primary-600 dark:text-primary-400 hover:underline block">Terraform: Loops, Meta-Arguments, Splat Operator and Functions</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;4.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/06-vpc/ class="text-primary-600 dark:text-primary-400 hover:underline block">Building AWS VPC</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;5.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/20-terraform-modules/ class="text-primary-600 dark:text-primary-400 hover:underline block">Terraform Modules</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;6.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-expressions/ class="text-primary-600 dark:text-primary-400 hover:underline block">Terraform Expressions ğŸ”¥</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;7.
</span><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-resource-block-reference/ class="text-primary-600 dark:text-primary-400 hover:underline block">Terraform resource block reference ğŸ”¥</a></li><li class="flex items-start"><span class="text-neutral-500 dark:text-neutral-400 mr-2">&nbsp;&nbsp;8.
</span><span class="font-semibold text-neutral-900 dark:text-neutral-100 bg-neutral-100 dark:bg-neutral-800 px-2 py-0.5 rounded">Terraform State</span></li></ul><div class="flex justify-between text-sm mt-6"><a href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-resource-block-reference/ class="text-primary-600 dark:text-primary-400 hover:underline">&nbsp;&nbsp;â† Previous</a></div><div class=h-8></div></div><br><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=1070 height=791 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt=RobK loading=lazy decoding=async src=https://robk.uk/img/author_hu_a0ab2d799112de12.jpg srcset="https://robk.uk/img/author_hu_b196e27b0d760e90.jpg 330w,https://robk.uk/img/author_hu_a0ab2d799112de12.jpg 660w
,https://robk.uk/img/author_hu_dfba03629938ce6b.jpg 1024w
,https://robk.uk/img/author.jpg 1070w" sizes=100vw></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">RobK</div><div class="text-sm text-neutral-700 dark:text-neutral-400">DevOps | Agile | AWS | Ansible | Terraform | GitHub Actions | Linux | Windows</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/rtdevx target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://linkedin.com/in/robertkls target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></a></div></div></div></div><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=https://robk.uk/posts/training/github/2025-github-actions/03-fundamentals/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span>
<span class="ltr:hidden rtl:inline">&rarr;</span>
</span><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">GitHub Actions: Fundamentals ğŸ”¥
</span><span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2025-11-03 00:00:00 +0000 UTC">3 November 2025</time>
</span></span></a></span><span><a class="group flex text-right" href=https://robk.uk/posts/training/terraform/terraform-on-aws-with-sre--iac-devops/terraform-resource-block-reference/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Terraform resource block reference ğŸ”¥
</span><span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2025-10-27 00:00:00 +0000 UTC">27 October 2025</time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span>
<span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div></div></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div><footer class="py-10 print:hidden"><nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/categories/ title=Categories><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Categories</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/tags/ title=Tags><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Tags</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/about/ title="About me"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/cheatsheets/blogging/post-template/ title="Hugo Post Template"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Â»</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=https://robk.uk/index.xml title><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg></span></span></a></li></ul></nav><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">Copy, <em>right</em>? ğŸ¤”</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://robk.uk/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>