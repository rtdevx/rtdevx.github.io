<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>Installing Arch Linux &#183; robk.uk</title><meta name=title content="Installing Arch Linux &#183; robk.uk"><script type=text/javascript src=https://robk.uk/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=https://robk.uk/css/main.bundle.min.98975d7e607856cc4215d8a1b5f3ea5576c7756dcdeeb074049f204a29fe570a.css integrity="sha256-mJddfmB4VsxCFdihtfPqVXbHdW3N7rB0BJ8gSin+Vwo="><script defer type=text/javascript id=script-bundle src=https://robk.uk/js/main.bundle.min.d97ddc5ab27d9f764a39a1e9c14f27b5583e3d47287e6278766921e42cb09f55.js integrity="sha256-2X3cWrJ9n3ZKOaHpwU8ntVg+PUcofmJ4dmkh5Cywn1U=" data-copy=Copy data-copied=Copied></script><meta name=description content="
      Installing Arch Linux...
    "><link rel=canonical href=https://robk.uk/posts/linux/linux-arch-installation/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://robk.uk/posts/linux/linux-arch-installation/"><meta property="og:site_name" content="robk.uk"><meta property="og:title" content="Installing Arch Linux"><meta property="og:description" content="Installing Arch Linux..."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-27T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-27T00:00:00+00:00"><meta property="og:image" content="https://robk.uk/posts/linux/linux-arch-installation/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://robk.uk/posts/linux/linux-arch-installation/cover.jpg"><meta name=twitter:title content="Installing Arch Linux"><meta name=twitter:description content="Installing Arch Linux..."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"üî∞Posts","name":"Installing Arch Linux","headline":"Installing Arch Linux","description":"Installing Arch Linux...","abstract":"Installing Arch Linux\u0026hellip;","inLanguage":"en","url":"https:\/\/robk.uk\/posts\/linux\/linux-arch-installation\/","author":{"@type":"Person","name":"RobK"},"copyrightYear":"2025","dateCreated":"2025-12-27T00:00:00\u002b00:00","datePublished":"2025-12-27T00:00:00\u002b00:00","dateModified":"2025-12-27T00:00:00\u002b00:00","mainEntityOfPage":"true","wordCount":"3026"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://robk.uk/","name":"Welcome My Dev Ops Blog.","position":1},{"@type":"ListItem","item":"https://robk.uk/posts/","name":"Posts","position":2},{"@type":"ListItem","item":"https://robk.uk/categories/linux/","name":"Linux","position":3},{"@type":"ListItem","name":"Installing Arch Linux","position":4}]}</script><meta name=author content="RobK"><link href=https://github.com/rtdevx rel=me><link href=https://linkedin.com/in/robertkls rel=me></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="z-40 flex flex-row items-center"><a href=/ class=mr-2><img src=https://robk.uk/img/logo.png width=96 height=48 class="max-h-[10rem] max-w-[10rem] object-scale-down object-left" alt=robk.uk></a></div><label id=menu-button for=menu-controller class="block sm:hidden"><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="invisible fixed inset-0 z-30 m-auto h-full w-full cursor-default overflow-auto bg-neutral-100/50 opacity-0 backdrop-blur-sm transition-opacity dark:bg-neutral-900/50"><ul class="mx-auto flex w-full max-w-7xl list-none flex-col overflow-visible px-6 py-6 text-end sm:px-14 sm:py-10 sm:pt-10 md:px-24 lg:px-32"><li class=mb-1><span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class="group mb-1"><a href=/posts/ title=üî∞Posts onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></span></a></li><li class="group mb-1"><a href=/categories/ title=Categories onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1.0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7.0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5.0 278.1.0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6H135.3zm358.1.0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6H493.4z"/></svg></span></span></a></li><li class="group mb-1"><a href=/tags/ title=Tags onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M48 32H197.5c17 0 33.2 6.74 45.2 18.75l176 175.95c25 25 25 65.6.0 90.6L285.3 450.7c-25 25-65.6 25-90.6.0L18.75 274.7C6.743 262.7.0 246.5.0 229.5V80C0 53.49 21.49 32 48 32zm64 144c17.7.0 32-14.3 32-32 0-17.7-14.3-32-32-32-17.67.0-32 14.3-32 32s14.33 32 32 32z"/></svg></span></span></a></li><li class="group mb-1"><a href=/posts/cheatsheets/ title="üóÇÔ∏èCheat Sheets" onclick=close_menu()><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 16 16"><path fill="currentColor" d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/><path fill="currentColor" d="M0 2a2 2 0 012-2h7a2 2 0 012 2v3h3a2 2 0 012 2v7a2 2 0 01-2 2H7a2 2 0 01-2-2v-3H2A2 2 0 010 9V2zm2-1A1 1 0 001 2v7a1 1 0 001 1h7a1 1 0 001-1V2A1 1 0 009 1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066.0 01-.415-.492 1.988 1.988.0 01-.94.31z"/></svg></span></span></a></li><li class="group mb-1"><button id=search-button-1 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></div></label><ul class="hidden list-none flex-row text-end sm:flex"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/ title=üî∞Posts><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/categories/ title=Categories><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1.0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7.0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5.0 278.1.0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6H135.3zm358.1.0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6H493.4z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/tags/ title=Tags><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M48 32H197.5c17 0 33.2 6.74 45.2 18.75l176 175.95c25 25 25 65.6.0 90.6L285.3 450.7c-25 25-65.6 25-90.6.0L18.75 274.7C6.743 262.7.0 246.5.0 229.5V80C0 53.49 21.49 32 48 32zm64 144c17.7.0 32-14.3 32-32 0-17.7-14.3-32-32-32-17.67.0-32 14.3-32 32s14.33 32 32 32z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/cheatsheets/ title="üóÇÔ∏èCheat Sheets"><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 16 16"><path fill="currentColor" d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/><path fill="currentColor" d="M0 2a2 2 0 012-2h7a2 2 0 012 2v3h3a2 2 0 012 2v7a2 2 0 01-2 2H7a2 2 0 01-2-2v-3H2A2 2 0 010 9V2zm2-1A1 1 0 001 2v7a1 1 0 001 1h7a1 1 0 001-1V2A1 1 0 009 1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066.0 01-.415-.492 1.988 1.988.0 01-.94.31z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=search-button-2 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/>Welcome my DevOps blog.</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/>üî∞Posts</a><span class="px-1 text-primary-500">/</span></li><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://robk.uk/posts/linux/linux-arch-installation/>Installing Arch Linux</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Installing Arch Linux</h1><br><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2025-12-27 00:00:00 +0000 UTC">27 December 2025</time><span class="px-2 text-primary-500">&#183;</span><span>3026 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">15 mins</span></div><div class="my-1 flex flex-wrap text-xs leading-relaxed text-neutral-500 dark:text-neutral-400"><a href=https://robk.uk/categories/linux/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Linux</a>
<a href=https://robk.uk/categories/homelab/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Homelab</a></div></div><div class=prose><picture class="mb-6 rounded-md"><source srcset=https://robk.uk/posts/linux/linux-arch-installation/cover_hu_78847430fe9bb359.webp sizes=100vw type=image/webp><img width=640 height=562 class="mb-6 rounded-md" src=https://robk.uk/posts/linux/linux-arch-installation/cover.jpg></picture></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8"><div class="toc pe-5 lg:sticky lg:top-10 print:hidden"><details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5"><summary class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#youtube-guide>Youtube Guide</a></li><li><a href=#pre-requisites>Pre-requisites</a></li><li><a href=#installation>Installation</a><ul><li><a href=#ensure-network-connectivity>Ensure network connectivity</a></li><li><a href=#enable-ssh>Enable SSH</a></li><li><a href=#find-out-details-about-your-hdd-and-identify-your-device>Find out details about your HDD and identify your device</a></li><li><a href=#setup-partitions>Setup partitions</a><ul><li><a href=#format-partitions>Format partitions</a></li><li><a href=#encrypt-lvm-partition>Encrypt <code>LVM</code> partition</a></li><li><a href=#setup-lvm>Setup <code>LVM</code></a></li><li><a href=#verify-partitions>Verify partitions</a></li><li><a href=#format-and-mount-logical-volumes>Format and mount logical volumes</a></li><li><a href=#mount-partitions>Mount partitions</a></li><li><a href=#install-required-packages>Install required packages</a></li><li><a href=#generate-fstab>Generate <code>fstab</code></a></li></ul></li><li><a href=#access-arch-chroot-environment>Access Arch <code>chroot</code> environment</a><ul><li><a href=#install-additional-packages>Install additional packages</a></li><li><a href=#install-the-linux-kernel>Install the Linux Kernel</a></li><li><a href=#install-vga-drivers>Install VGA drivers</a></li><li><a href=#install-hardware-decoding>Install hardware decoding</a></li><li><a href=#modify-special-config-file>Modify <code>Special Config File</code></a></li><li><a href=#update-linux-kernel-with-init-details>Update Linux Kernel with init details</a></li><li><a href=#set-locale>Set Locale</a></li><li><a href=#edit-grub>Edit GRUB</a></li><li><a href=#setup--efi-partition>Setup EFI partition</a></li><li><a href=#install-grub-boot-loader>Install <code>GRUB</code> boot loader</a></li><li><a href=#additional-steps>Additional steps</a></li></ul></li></ul></li><li><a href=#-sources->&#187; Sources &#171;</a></li></ul></nav></div></details></div></div><div class="min-h-0 min-w-0 max-w-prose grow"><div class="lead !mb-9 text-xl"><strong>Arch Linux</strong> is an open source, rolling release Linux distribution. It is <strong>intentionally minimal</strong>, and is <em>meant to be configured by the user during installation so they may add only what they require</em>.</div><h1 id=important-for-maximum-security-always-set-the-root-password-to-root class="relative group">‚ò¢Ô∏è<font color=#EB4925>IMPORTANT:</font> for maximum security, ALWAYS set the root password to &ldquo;<em>root</em>&rdquo;. <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#important-for-maximum-security-always-set-the-root-password-to-root aria-label=Anchor>#</a></span></h1><ul><li>Official Arch Linux installation guide: <a href=https://wiki.archlinux.org/title/Installation_guide target=_blank rel=noreferrer>https://wiki.archlinux.org/title/Installation_guide</a></li><li>Official Arch Linux website: <a href=https://archlinux.org/ target=_blank rel=noreferrer>https://archlinux.org/</a></li></ul><h2 id=youtube-guide class="relative group">Youtube Guide <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#youtube-guide aria-label=Anchor>#</a></span></h2><hr><p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube-nocookie.com/embed/FxeriGuJKTM?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><em>Jay is explaining how to install Arch Linux on a potato&mldr;</em> ü•î</p><hr><h2 id=pre-requisites class="relative group">Pre-requisites <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#pre-requisites aria-label=Anchor>#</a></span></h2><ol><li>Download Arch Linux:</li></ol><ul><li><a href=https://archlinux.org/download/ target=_blank rel=noreferrer>https://archlinux.org/download/</a></li></ul><ol start=2><li>Prepare bootable installation media</li><li>Disable secure boot (for installation only)</li></ol><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300><strong>Note</strong> Arch Linux installation images do not support Secure Boot. You will need to <a href=https://wiki.archlinux.org/title/Unified_Extensible_Firmware_Interface/Secure_Boot#Disabling_Secure_Boot title="Unified Extensible Firmware Interface/Secure Boot" target=_blank rel=noreferrer>disable Secure Boot</a> to boot the installation medium. If desired, <a href=https://wiki.archlinux.org/title/Secure_Boot title="Secure Boot" target=_blank rel=noreferrer>Secure Boot</a> can be set up after completing the installation.</span></div><p><font color=#EBAC25><i>More info:</i></font> <a href=https://wiki.archlinux.org/title/Installation_guide#Boot_the_live_environment target=_blank rel=noreferrer>Boot the live environment</a></p><ol start=4><li>Boot to Arch Linux installation media</li></ol><h2 id=installation class="relative group">Installation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#installation aria-label=Anchor>#</a></span></h2><p><figure><img src=./assets/arch_meme1.png alt class="mx-auto my-0 rounded-md"></figure></p><h3 id=ensure-network-connectivity class="relative group">Ensure network connectivity <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ensure-network-connectivity aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ip addr show
</span></span></code></pre></div><p>If your machine is connected to the network, you should see an IP address. If it isn&rsquo;t, here is how to set up a wi-fi:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>iwctl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check available wifi networks</span>
</span></span><span class=line><span class=cl><span class=o>[</span>iwd<span class=o>]</span><span class=c1># station wlan0 get-networks</span>
</span></span><span class=line><span class=cl><span class=o>[</span>iwd<span class=o>]</span><span class=c1># exit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Setup wifi</span>
</span></span><span class=line><span class=cl>iwctl --passphrase <span class=s2>&#34;WIFI_PASSWORD&#34;</span> station wlan0 connect WIFI_NETWORK
</span></span><span class=line><span class=cl>ip addr show
</span></span></code></pre></div><h3 id=enable-ssh class="relative group">Enable SSH <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#enable-ssh aria-label=Anchor>#</a></span></h3><p>Only for the installer at this stage!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Ensure sshd is running</span>
</span></span><span class=line><span class=cl>systemctl status sshd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set the root password (Below password is only for the installer. Actual root password will be set later.)</span>
</span></span><span class=line><span class=cl>passwd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Connect to the installer via SSH</span>
</span></span><span class=line><span class=cl>ssh -l root INSTALLER_IP <span class=c1># ip addr show</span>
</span></span></code></pre></div><p><figure><img src=./assets/arch_ssh.png alt class="mx-auto my-0 rounded-md"></figure></p><h3 id=find-out-details-about-your-hdd-and-identify-your-device class="relative group">Find out details about your HDD and identify your device <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#find-out-details-about-your-hdd-and-identify-your-device aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># lsblk</span>
</span></span><span class=line><span class=cl>NAME  MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
</span></span><span class=line><span class=cl>loop0   7:0    <span class=m>0</span> 971.9M  <span class=m>1</span> loop /run/archiso/airootfs
</span></span><span class=line><span class=cl>sda     8:0    <span class=m>0</span>   100G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>sr0    11:0    <span class=m>1</span>   1.4G  <span class=m>0</span> rom  /run/archiso/bootmnt
</span></span></code></pre></div><p>In my case, it will be <code>sda</code>.</p><h3 id=setup-partitions class="relative group">Setup partitions <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#setup-partitions aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># fdisk /dev/sda</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Changes will remain in memory only, <span class=k>until</span> you decide to write them.
</span></span><span class=line><span class=cl>Be careful before using the write command.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check partition layout</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: p
</span></span><span class=line><span class=cl>Disk /dev/sda: <span class=m>100</span> GiB, <span class=m>107374182400</span> bytes, <span class=m>209715200</span> sectors
</span></span><span class=line><span class=cl>Disk model: QEMU HARDDISK
</span></span><span class=line><span class=cl>Units: sectors of <span class=m>1</span> * <span class=nv>512</span> <span class=o>=</span> <span class=m>512</span> bytes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a new empty GPT partition table</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: g
</span></span><span class=line><span class=cl>Created a new GPT disklabel <span class=o>(</span>GUID: 91B05E54-080D-42B4-B6CE-7BBF7BB7DE27<span class=o>)</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: p
</span></span><span class=line><span class=cl>Disk /dev/sda: <span class=m>100</span> GiB, <span class=m>107374182400</span> bytes, <span class=m>209715200</span> sectors
</span></span></code></pre></div><ul><li>Create <code>Boot</code> partition</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Create Boot partition</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: n
</span></span><span class=line><span class=cl>Partition number <span class=o>(</span>1-128, default 1<span class=o>)</span>:
</span></span><span class=line><span class=cl>First sector <span class=o>(</span>2048-209715166, default 2048<span class=o>)</span>:
</span></span><span class=line><span class=cl>Last sector, +/-sectors or +/-size<span class=o>{</span>K,M,G,T,P<span class=o>}</span> <span class=o>(</span>2048-209715166, default 209713151<span class=o>)</span>: +1G
</span></span></code></pre></div><ul><li>Create <code>EFI</code> partition</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Create EFI partition</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: n
</span></span><span class=line><span class=cl>Partition number <span class=o>(</span>2-128, default 2<span class=o>)</span>:
</span></span><span class=line><span class=cl>First sector <span class=o>(</span>2099200-209715166, default 2099200<span class=o>)</span>:
</span></span><span class=line><span class=cl>Last sector, +/-sectors or +/-size<span class=o>{</span>K,M,G,T,P<span class=o>}</span> <span class=o>(</span>2099200-209715166, default 209713151<span class=o>)</span>: +1G
</span></span></code></pre></div><ul><li>Create <code>LVM</code> partition</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Create LVM partition (use all available space left)</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: n
</span></span><span class=line><span class=cl>Partition number <span class=o>(</span>3-128, default 3<span class=o>)</span>:
</span></span><span class=line><span class=cl>First sector <span class=o>(</span>4196352-209715166, default 4196352<span class=o>)</span>:
</span></span><span class=line><span class=cl>Last sector, +/-sectors or +/-size<span class=o>{</span>K,M,G,T,P<span class=o>}</span> <span class=o>(</span>4196352-209715166, default 209713151<span class=o>)</span>:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Created a new partition <span class=m>3</span> of <span class=nb>type</span> <span class=s1>&#39;Linux filesystem&#39;</span> and of size <span class=m>98</span> GiB.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Setup type (Linux LVM) for /home partition (Type 44)</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: t
</span></span><span class=line><span class=cl>Partition number <span class=o>(</span>1-3, default 3<span class=o>)</span>: <span class=m>3</span>
</span></span><span class=line><span class=cl>Partition <span class=nb>type</span> or <span class=nb>alias</span> <span class=o>(</span><span class=nb>type</span> L to list all<span class=o>)</span>: <span class=m>44</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Changed <span class=nb>type</span> of partition <span class=s1>&#39;Linux filesystem&#39;</span> to <span class=s1>&#39;Linux LVM&#39;</span>.
</span></span></code></pre></div><ul><li>Check current partition layout before saving to disk</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Check current parition layout</span>
</span></span><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: p
</span></span><span class=line><span class=cl>Disk /dev/sda: <span class=m>100</span> GiB, <span class=m>107374182400</span> bytes, <span class=m>209715200</span> sectors
</span></span><span class=line><span class=cl>Disk model: QEMU HARDDISK
</span></span><span class=line><span class=cl>Units: sectors of <span class=m>1</span> * <span class=nv>512</span> <span class=o>=</span> <span class=m>512</span> bytes
</span></span><span class=line><span class=cl>Sector size <span class=o>(</span>logical/physical<span class=o>)</span>: <span class=m>512</span> bytes / <span class=m>512</span> bytes
</span></span><span class=line><span class=cl>I/O size <span class=o>(</span>minimum/optimal<span class=o>)</span>: <span class=m>512</span> bytes / <span class=m>512</span> bytes
</span></span><span class=line><span class=cl>Disklabel type: gpt
</span></span><span class=line><span class=cl>Disk identifier: F752CE96-DCE7-48E5-9256-82F162692E71
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Device       Start       End   Sectors Size Type
</span></span><span class=line><span class=cl>/dev/sda1     <span class=m>2048</span>   <span class=m>2099199</span>   <span class=m>2097152</span>   1G Linux filesystem
</span></span><span class=line><span class=cl>/dev/sda2  <span class=m>2099200</span>   <span class=m>4196351</span>   <span class=m>2097152</span>   1G Linux filesystem
</span></span><span class=line><span class=cl>/dev/sda3  <span class=m>4196352</span> <span class=m>209713151</span> <span class=m>205516800</span>  98G Linux LVM
</span></span></code></pre></div><ul><li><font color=#EB4925>Write to disk <b>(DESTRUCTIVE!)</b></font></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>Command <span class=o>(</span>m <span class=k>for</span> <span class=nb>help</span><span class=o>)</span>: w
</span></span><span class=line><span class=cl>The partition table has been altered.
</span></span><span class=line><span class=cl>Calling ioctl<span class=o>()</span> to re-read partition table.
</span></span><span class=line><span class=cl>Syncing disks.
</span></span></code></pre></div><h4 id=format-partitions class="relative group">Format partitions <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#format-partitions aria-label=Anchor>#</a></span></h4><ul><li>Check your partitions first</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># lsblk</span>
</span></span><span class=line><span class=cl>NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
</span></span><span class=line><span class=cl>loop0    7:0    <span class=m>0</span> 971.9M  <span class=m>1</span> loop /run/archiso/airootfs
</span></span><span class=line><span class=cl>sda      8:0    <span class=m>0</span>   100G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>‚îú‚îÄsda1   8:1    <span class=m>0</span>     1G  <span class=m>0</span> part
</span></span><span class=line><span class=cl>‚îú‚îÄsda2   8:2    <span class=m>0</span>     1G  <span class=m>0</span> part
</span></span><span class=line><span class=cl>‚îî‚îÄsda3   8:3    <span class=m>0</span>    98G  <span class=m>0</span> part
</span></span><span class=line><span class=cl>sr0     11:0    <span class=m>1</span>   1.4G  <span class=m>0</span> rom  /run/archiso/bootmnt
</span></span></code></pre></div><ul><li>Format <code>Boot</code> partition (<code>FAT32</code>)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># mkfs.fat -F32 /dev/sda1</span>
</span></span><span class=line><span class=cl>mkfs.fat 4.2 <span class=o>(</span>2021-01-31<span class=o>)</span>
</span></span></code></pre></div><ul><li>Format <code>EFI</code> partition (<code>EXT4</code>)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># mkfs.ext4 /dev/sda2</span>
</span></span><span class=line><span class=cl>mke2fs 1.47.3 <span class=o>(</span>8-Jul-2025<span class=o>)</span>
</span></span><span class=line><span class=cl>Discarding device blocks: <span class=k>done</span>
</span></span><span class=line><span class=cl>Creating filesystem with <span class=m>262144</span> 4k blocks and <span class=m>65536</span> inodes
</span></span><span class=line><span class=cl>Filesystem UUID: b253b84c-9e45-4213-a3c8-ea5fdeead589
</span></span><span class=line><span class=cl>Superblock backups stored on blocks:
</span></span><span class=line><span class=cl>        32768, 98304, 163840, <span class=m>229376</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Allocating group tables: <span class=k>done</span>
</span></span><span class=line><span class=cl>Writing inode tables: <span class=k>done</span>
</span></span><span class=line><span class=cl>Creating journal <span class=o>(</span><span class=m>8192</span> blocks<span class=o>)</span>: <span class=k>done</span>
</span></span><span class=line><span class=cl>Writing superblocks and filesystem accounting information: <span class=k>done</span>
</span></span></code></pre></div><h4 id=encrypt-lvm-partition class="relative group"><font color=#EB4925>Encrypt</font> <code>LVM</code> partition <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#encrypt-lvm-partition aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># cryptsetup luksFormat /dev/sda3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>WARNING!
</span></span><span class=line><span class=cl><span class=o>========</span>
</span></span><span class=line><span class=cl>This will overwrite data on /dev/sda3 irrevocably.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Are you sure? <span class=o>(</span>Type <span class=s1>&#39;yes&#39;</span> in capital letters<span class=o>)</span>: YES
</span></span><span class=line><span class=cl>Enter passphrase <span class=k>for</span> /dev/sda3:
</span></span><span class=line><span class=cl>Verify passphrase:
</span></span><span class=line><span class=cl>cryptsetup luksFormat /dev/sda3  6.82s user 0.26s system 39% cpu 18.132 total
</span></span></code></pre></div><h4 id=setup-lvm class="relative group">Setup <code>LVM</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#setup-lvm aria-label=Anchor>#</a></span></h4><ul><li>Open an Encrypted Volume</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># cryptsetup open --type luks /dev/sda3 lvm</span>
</span></span><span class=line><span class=cl>Enter passphrase <span class=k>for</span> /dev/sda3:
</span></span></code></pre></div><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300>Note that <code>lvm</code> is just an arbitrary name at this stage and this is not the final name for the encrypted volume. <font color=#EB4925>It is however referenced in the next step by that name</font> when creating physical volume with <code>/dev/mapper</code>.</span></div><ul><li>Create &ldquo;physical&rdquo; volumes for <code>LVM</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># pvcreate /dev/mapper/lvm</span>
</span></span><span class=line><span class=cl>  Physical volume <span class=s2>&#34;/dev/mapper/lvm&#34;</span> successfully created.
</span></span></code></pre></div><ul><li>Create <code>Volume Group</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># vgcreate volgroup0 /dev/mapper/lvm</span>
</span></span><span class=line><span class=cl>  Volume group <span class=s2>&#34;volgroup0&#34;</span> successfully created
</span></span></code></pre></div><ul><li>Create <code>Logical Volume</code></li></ul><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300>Think of a <code>Logical Volume</code> as of an actual partition that you would use.</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Create Logical Volume for / partition</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># lvcreate -L 30GB volgroup0 -n lv_root</span>
</span></span><span class=line><span class=cl>  Logical volume <span class=s2>&#34;lv_root&#34;</span> created.
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># Create Logical Volume for /home partition (use remaining space)</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># lvcreate -l 100%FREE volgroup0 -n lv_home</span>
</span></span><span class=line><span class=cl>  Logical volume <span class=s2>&#34;lv_home&#34;</span> created.  
</span></span></code></pre></div><p><font color=#EBAC25><i>More about LVM:</i></font> <a href=https://en.wikipedia.org/wiki/Logical_Volume_Manager_%28Linux%29 target=_blank rel=noreferrer>https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)</a></p><h4 id=verify-partitions class="relative group">Verify partitions <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#verify-partitions aria-label=Anchor>#</a></span></h4><ul><li>Check <code>Volume Groups</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># vgdisplay</span>
</span></span><span class=line><span class=cl>  --- Volume group ---
</span></span><span class=line><span class=cl>  VG Name               volgroup0
</span></span><span class=line><span class=cl>  System ID
</span></span><span class=line><span class=cl>  Format                lvm2
</span></span><span class=line><span class=cl>  Metadata Areas        <span class=m>1</span>
</span></span><span class=line><span class=cl>  Metadata Sequence No  <span class=m>3</span>
</span></span><span class=line><span class=cl>  VG Access             read/write
</span></span><span class=line><span class=cl>  VG Status             resizable
</span></span><span class=line><span class=cl>  MAX LV                <span class=m>0</span>
</span></span><span class=line><span class=cl>  Cur LV                <span class=m>2</span>
</span></span><span class=line><span class=cl>  Open LV               <span class=m>0</span>
</span></span><span class=line><span class=cl>  Max PV                <span class=m>0</span>
</span></span><span class=line><span class=cl>  Cur PV                <span class=m>1</span>
</span></span><span class=line><span class=cl>  Act PV                <span class=m>1</span>
</span></span><span class=line><span class=cl>  VG Size               97.98 GiB
</span></span><span class=line><span class=cl>  PE Size               4.00 MiB
</span></span><span class=line><span class=cl>  Total PE              <span class=m>25083</span>
</span></span><span class=line><span class=cl>  Alloc PE / Size       <span class=m>25083</span> / 97.98 GiB
</span></span><span class=line><span class=cl>  Free  PE / Size       <span class=m>0</span> / <span class=m>0</span>
</span></span><span class=line><span class=cl>  VG UUID               uL93dl-6Gr4-IXsX-wAsB-GtWH-T8VR-Og6G5l
</span></span></code></pre></div><ul><li>Check <code>Logical Volumes</code> inside of <code>LVM</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># lvdisplay</span>
</span></span><span class=line><span class=cl>  --- Logical volume ---
</span></span><span class=line><span class=cl>  LV Path                /dev/volgroup0/lv_root
</span></span><span class=line><span class=cl>  LV Name                lv_root
</span></span><span class=line><span class=cl>  VG Name                volgroup0
</span></span><span class=line><span class=cl>  LV UUID                bli8Lr-3fwu-QLpL-ghQU-VNd9-4GMV-k9SaB7
</span></span><span class=line><span class=cl>  LV Write Access        read/write
</span></span><span class=line><span class=cl>  LV Creation host, <span class=nb>time</span> archiso, 2026-01-05 23:01:05 +0000
</span></span><span class=line><span class=cl>  LV Status              available
</span></span><span class=line><span class=cl>  <span class=c1># open                 0</span>
</span></span><span class=line><span class=cl>  LV Size                30.00 GiB
</span></span><span class=line><span class=cl>  Current LE             <span class=m>7680</span>
</span></span><span class=line><span class=cl>  Segments               <span class=m>1</span>
</span></span><span class=line><span class=cl>  Allocation             inherit
</span></span><span class=line><span class=cl>  Read ahead sectors     auto
</span></span><span class=line><span class=cl>  - currently <span class=nb>set</span> to     <span class=m>16384</span>
</span></span><span class=line><span class=cl>  Block device           253:1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  --- Logical volume ---
</span></span><span class=line><span class=cl>  LV Path                /dev/volgroup0/lv_home
</span></span><span class=line><span class=cl>  LV Name                lv_home
</span></span><span class=line><span class=cl>  VG Name                volgroup0
</span></span><span class=line><span class=cl>  LV UUID                1xqy4g-AHAk-H1fM-EXp6-dGux-QVII-0yKj63
</span></span><span class=line><span class=cl>  LV Write Access        read/write
</span></span><span class=line><span class=cl>  LV Creation host, <span class=nb>time</span> archiso, 2026-01-05 23:03:49 +0000
</span></span><span class=line><span class=cl>  LV Status              available
</span></span><span class=line><span class=cl>  <span class=c1># open                 0</span>
</span></span><span class=line><span class=cl>  LV Size                67.98 GiB
</span></span><span class=line><span class=cl>  Current LE             <span class=m>17403</span>
</span></span><span class=line><span class=cl>  Segments               <span class=m>1</span>
</span></span><span class=line><span class=cl>  Allocation             inherit
</span></span><span class=line><span class=cl>  Read ahead sectors     auto
</span></span><span class=line><span class=cl>  - currently <span class=nb>set</span> to     <span class=m>16384</span>
</span></span><span class=line><span class=cl>  Block device           253:2
</span></span></code></pre></div><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300><em>Note:</em> <code>lv_root</code> and <code>lv_home</code>have now been created successfully.</span></div><h4 id=format-and-mount-logical-volumes class="relative group">Format and mount logical volumes <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#format-and-mount-logical-volumes aria-label=Anchor>#</a></span></h4><p>Your logical volumes should now be located in <code>/dev/volgroup0/</code>. If you cannot find them, use the next commands to bring up the module for creating device nodes and to make volume groups available.</p><ul><li>Insert <code>dm_mod</code> kernel module</li></ul><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300>The command <code>modprobe dm_mod</code> is used to load the device-mapper module in Linux, which is necessary for certain functionalities like Logical Volume Management (LVM).</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Insert dm_mod kernel module</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># modprobe dm_mod</span>
</span></span></code></pre></div><ul><li>Scan for available <code>Volume Groups</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Scan for available Volume Groups</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># vgscan</span>
</span></span><span class=line><span class=cl>  Found volume group <span class=s2>&#34;volgroup0&#34;</span> using metadata <span class=nb>type</span> lvm2
</span></span></code></pre></div><ul><li>Activate all scanned <code>Volume Groups</code></li></ul><pre tabindex=0><code># Activate Volume Groups  
root@archiso ~ # vgchange -ay
  2 logical volume(s) in volume group &#34;volgroup0&#34; now active
</code></pre><p><font color=#EBAC25><i>More info about this section:</i></font> <a href=https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM target=_blank rel=noreferrer>https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM</a></p><ul><li>Format <code>Volume Groups</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Format lv_root</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mkfs.ext4 /dev/volgroup0/lv_root</span>
</span></span><span class=line><span class=cl>mke2fs 1.47.3 <span class=o>(</span>8-Jul-2025<span class=o>)</span>
</span></span><span class=line><span class=cl>Creating filesystem with <span class=m>7864320</span> 4k blocks and <span class=m>1966080</span> inodes
</span></span><span class=line><span class=cl>Filesystem UUID: 97a9da1d-a976-490a-80c3-148fc3961276
</span></span><span class=line><span class=cl>Superblock backups stored on blocks:
</span></span><span class=line><span class=cl>        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
</span></span><span class=line><span class=cl>        <span class=m>4096000</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Allocating group tables: <span class=k>done</span>
</span></span><span class=line><span class=cl>Writing inode tables: <span class=k>done</span>
</span></span><span class=line><span class=cl>Creating journal <span class=o>(</span><span class=m>32768</span> blocks<span class=o>)</span>: <span class=k>done</span>
</span></span><span class=line><span class=cl>Writing superblocks and filesystem accounting information: <span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Format lv_home</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mkfs.ext4 /dev/volgroup0/lv_home</span>
</span></span><span class=line><span class=cl>mke2fs 1.47.3 <span class=o>(</span>8-Jul-2025<span class=o>)</span>
</span></span><span class=line><span class=cl>Creating filesystem with <span class=m>17820672</span> 4k blocks and <span class=m>4456448</span> inodes
</span></span><span class=line><span class=cl>Filesystem UUID: f1130f8f-9ee9-46d4-b6a8-cd279ec07048
</span></span><span class=line><span class=cl>Superblock backups stored on blocks:
</span></span><span class=line><span class=cl>        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
</span></span><span class=line><span class=cl>        4096000, 7962624, <span class=m>11239424</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Allocating group tables: <span class=k>done</span>
</span></span><span class=line><span class=cl>Writing inode tables: <span class=k>done</span>
</span></span><span class=line><span class=cl>Creating journal <span class=o>(</span><span class=m>131072</span> blocks<span class=o>)</span>: <span class=k>done</span>
</span></span><span class=line><span class=cl>Writing superblocks and filesystem accounting information: <span class=k>done</span>
</span></span></code></pre></div><h4 id=mount-partitions class="relative group">Mount partitions <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#mount-partitions aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Mount lv_root to /mnt</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mount /dev/volgroup0/lv_root /mnt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create /mnt/boot and mount boot partition (/dev/sda2) there</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mkdir /mnt/boot</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mount /dev/sda2 /mnt/boot</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create /mnt/home and mount home partition (/dev/volgroup0/lv_home) there</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mkdir /mnt/home</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># mount /dev/volgroup0/lv_home /mnt/home</span>
</span></span></code></pre></div><h4 id=install-required-packages class="relative group">Install required packages <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#install-required-packages aria-label=Anchor>#</a></span></h4><ul><li>Install Arch Linux base packages on /mnt (lv_root)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># pacstrap -i /mnt base</span>
</span></span></code></pre></div><p><figure><img src=./assets/arch_packages_base.png alt class="mx-auto my-0 rounded-md"></figure></p><h4 id=generate-fstab class="relative group">Generate <code>fstab</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#generate-fstab aria-label=Anchor>#</a></span></h4><p>Generate <code>fstab</code> in order to be able to boot partitions at boot time.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Generate fstab</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check what&#39;s in generated file.</span>
</span></span><span class=line><span class=cl>root@archiso ~ <span class=c1># cat /mnt/etc/fstab</span>
</span></span><span class=line><span class=cl><span class=c1># Static information about the filesystems.</span>
</span></span><span class=line><span class=cl><span class=c1># See fstab(5) for details.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &lt;file system&gt; &lt;dir&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># /dev/mapper/volgroup0-lv_root</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span>97a9da1d-a976-490a-80c3-148fc3961276       /               ext4            rw,relatime     <span class=m>0</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># /dev/sda2</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span>b253b84c-9e45-4213-a3c8-ea5fdeead589       /boot           ext4            rw,relatime     <span class=m>0</span> <span class=m>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># /dev/mapper/volgroup0-lv_home</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span>f1130f8f-9ee9-46d4-b6a8-cd279ec07048       /home           ext4            rw,relatime     <span class=m>0</span> <span class=m>2</span>
</span></span></code></pre></div><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg>
</span></span><span class=dark:text-neutral-300>At this point, <font color=#EB4925>ensure all partitions and their mount points are correct</font>.</span></div><h3 id=access-arch-chroot-environment class="relative group">Access Arch <code>chroot</code> environment <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#access-arch-chroot-environment aria-label=Anchor>#</a></span></h3><p>Bear in mind we are now logged in into an <code>in-progress installation</code>. We left the installer and we are now inside of Arch <code>chroot</code> environment that will soon become our live system.</p><div class="flex rounded-md bg-primary-100 px-4 py-3 dark:bg-primary-900"><span class="pe-3 text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417 293 53c-16.33-28-57.54-28-73.98.0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6c32.76.0 53.26-35 36.96-63zM232 168c0-13.25 10.75-24 24-24s24 10.8 24 24v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zm24 248c-17.36.0-31.44-14.08-31.44-31.44s14.07-31.44 31.44-31.44 31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>
</span></span><span class=dark:text-neutral-300><font color=#EB4925><h2>Any commands issued at this stage are being issued against soon-to-be-ready Arch Linux system!</h></font></span></div><p><figure><img src=./assets/arch_meme2.png alt class="mx-auto my-0 rounded-md"></figure></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># arch-chroot /mnt</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1>#</span>
</span></span></code></pre></div><ul><li>Setup <code>root password</code> for the actual <code>root</code> user</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># passwd</span>
</span></span><span class=line><span class=cl>New password:
</span></span><span class=line><span class=cl>Retype new password:
</span></span><span class=line><span class=cl>passwd: password updated successfully
</span></span></code></pre></div><ul><li>Create new <code>sudo</code> user</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># useradd -m -g users -G wheel robk</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># passwd robk</span>
</span></span><span class=line><span class=cl>New password:
</span></span><span class=line><span class=cl>Retype new password:
</span></span><span class=line><span class=cl>passwd: password updated successfully
</span></span></code></pre></div><h4 id=install-additional-packages class="relative group">Install additional packages <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#install-additional-packages aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># pacman -S base-devel dosfstools grub efibootmgr gnome gnome-tweaks lvm2 mtools vim networkmanager openssh os-prober sudo</span>
</span></span></code></pre></div><ul><li><code>base-devel</code></li><li><code>dosfstools</code></li><li><code>grub</code> - boot manager</li><li><code>efibootmgr</code> - EFI boot manager package</li><li><code>gnome</code> - GUI</li><li><code>gnome-tweaks</code> - gnome tweaks</li><li><code>lvm2</code> - so Arch knows how to access our <code>LVM</code></li><li><code>mtools</code></li><li><code>vim</code> - text editor</li><li><code>networkmanager</code> - network manager</li><li><code>openssh</code> - Open SSH</li><li><code>os-prober</code> - optional (Dual Boot)</li><li><code>sudo</code> - ;)</li></ul><p>Enable Open SSH</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>systemctl <span class=nb>enable</span> sshd
</span></span></code></pre></div><h4 id=install-the-linux-kernel class="relative group"><font color=#EB4925>Install the Linux Kernel</font> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#install-the-linux-kernel aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># pacman -S linux linux-headers linux-lts linux-lts-headers</span>
</span></span></code></pre></div><p>In this scenario, we are installing 2 kernels. Normal one and LTS. If one fails, we could fail over to the next one&mldr;</p><hr><center>üëáüèªüëáüèªüëáüèª</center><p>If you are experiencing <code>ERROR: file not found: '/etc/vconsole.conf'</code> during Kernel installation process:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=hl><span class=lnt>11
</span></span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=hl><span class=lnt>17
</span></span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>==</span>&gt; Starting build: <span class=s1>&#39;6.18.3-arch1-1&#39;</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>base<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>systemd<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>autodetect<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>microcode<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>modconf<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>kms<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>keyboard<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>keymap<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>sd-vconsole<span class=o>]</span>
</span></span><span class="line hl"><span class=cl><span class=o>==</span>&gt; ERROR: file not found: <span class=s1>&#39;/etc/vconsole.conf&#39;</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>block<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>filesystems<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>fsck<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Generating module <span class=nv>dependencies</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Creating zstd-compressed initcpio image: <span class=s1>&#39;/boot/initramfs-linux.img&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=o>==</span>&gt; WARNING: errors were encountered during the build. The image may not be complete.
</span></span><span class=line><span class=cl>error: <span class=nb>command</span> failed to execute correctly</span></span></code></pre></td></tr></table></div></div><p>Follow this guide:</p><p><a href=https://wiki.archlinux.org/title/Linux_console/Keyboard_configuration target=_blank rel=noreferrer>https://wiki.archlinux.org/title/Linux_console/Keyboard_configuration</a></p><p>The error message &ldquo;ERROR: file not found: &lsquo;/etc/vconsole.conf&rsquo;&rdquo; indicates that your system is unable to locate the <code>vconsole.conf</code> file, which is essential for configuring the virtual console settings, such as keyboard mapping and console font.</p><p>The <code>vconsole.conf</code> file is used during the boot process to set up the virtual console environment. If this file is missing, you may encounter issues with character display and keyboard functionality in the console.</p><p><strong>Creating vconsole.conf</strong></p><p>If the file does not exist, you can create it manually. Here‚Äôs how:</p><ol><li>Use a text editor to create the file:</li></ol><ul><li><code>vim /etc/vconsole.conf</code></li></ul><ol start=2><li>Add the necessary configurations. For example:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>KEYMAP</span><span class=o>=</span>uk
</span></span><span class=line><span class=cl><span class=nv>FONT</span><span class=o>=</span><span class=m>161</span>
</span></span></code></pre></div><p>Check available keymaps and fonts for your locale:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>localectl list-keymaps
</span></span><span class=line><span class=cl>ls -l /usr/share/kbd/consolefonts/
</span></span></code></pre></div><p>Console Fonts screenshots: <a href=https://adeverteuil.github.io/linux-console-fonts-screenshots target=_blank rel=noreferrer>https://adeverteuil.github.io/linux-console-fonts-screenshots</a></p><ol start=3><li>Save the file and exit the editor.</li></ol><p><strong>After Creating the File</strong></p><p>Re-run the command and ensure no errors:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># pacman -S linux linux-headers linux-lts linux-lts-headers</span>
</span></span></code></pre></div><p><strong>Ensure <code>image generation successful</code></strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=hl><span class=lnt>17
</span></span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>==</span>&gt; Starting build: <span class=s1>&#39;6.18.3-arch1-1&#39;</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>base<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>systemd<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>autodetect<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>microcode<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>modconf<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>kms<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>keyboard<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>keymap<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>sd-vconsole<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>block<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>filesystems<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>fsck<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Generating module <span class=nv>dependencies</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Creating zstd-compressed initcpio image: <span class=s1>&#39;/boot/initramfs-linux.img&#39;</span>
</span></span><span class=line><span class=cl>  -&gt; Early uncompressed CPIO image generation <span class=nv>successful</span>
</span></span><span class="line hl"><span class=cl><span class=o>==</span>&gt; Initcpio image generation successful</span></span></code></pre></td></tr></table></div></div><p>Below is next required step for this to work but in our case, we still have to reconfigure the HOOKS so this will be completed at a later stage. FYI only.</p><p>Once you have created and configured <code>vconsole.conf</code>, you may need to rebuild your initramfs to apply the changes. You can do this with the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo mkinitcpio -P
</span></span></code></pre></div><center>‚òùüèª‚òùüèª‚òùüèª</center><hr><ul><li>Install the Linux Firmware packages (drivers)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pacman -S linux-firmware
</span></span></code></pre></div><p><figure><img src=./assets/arch_linux_firmware.png alt class="mx-auto my-0 rounded-md"></figure></p><h4 id=install-vga-drivers class="relative group">Install VGA drivers <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#install-vga-drivers aria-label=Anchor>#</a></span></h4><p>Find out what hardware you have&mldr;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># lspci</span>
</span></span><span class=line><span class=cl>00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC <span class=o>[</span>Natoma<span class=o>]</span> <span class=o>(</span>rev 02<span class=o>)</span>
</span></span><span class=line><span class=cl>00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA <span class=o>[</span>Natoma/Triton II<span class=o>]</span>
</span></span><span class=line><span class=cl>00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE <span class=o>[</span>Natoma/Triton II<span class=o>]</span>
</span></span><span class=line><span class=cl>00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB <span class=o>[</span>Natoma/Triton II<span class=o>]</span> <span class=o>(</span>rev 01<span class=o>)</span>
</span></span><span class=line><span class=cl>00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI <span class=o>(</span>rev 03<span class=o>)</span>
</span></span><span class=line><span class=cl>00:02.0 VGA compatible controller: Device 1234:1111 <span class=o>(</span>rev 02<span class=o>)</span>
</span></span><span class=line><span class=cl>00:03.0 Unclassified device <span class=o>[</span>00ff<span class=o>]</span>: Red Hat, Inc. Virtio memory balloon
</span></span><span class=line><span class=cl>00:05.0 PCI bridge: Red Hat, Inc. QEMU PCI-PCI bridge
</span></span><span class=line><span class=cl>00:08.0 Communication controller: Red Hat, Inc. Virtio console
</span></span><span class=line><span class=cl>00:12.0 Ethernet controller: Red Hat, Inc. Virtio network device
</span></span><span class=line><span class=cl>00:1e.0 PCI bridge: Red Hat, Inc. QEMU PCI-PCI bridge
</span></span><span class=line><span class=cl>00:1f.0 PCI bridge: Red Hat, Inc. QEMU PCI-PCI bridge
</span></span><span class=line><span class=cl>01:01.0 SCSI storage controller: Red Hat, Inc. Virtio SCSI
</span></span></code></pre></div><p>For intel, install <code>mesa</code> package</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># pacman -S mesa</span>
</span></span></code></pre></div><p>For NVidia GPU&rsquo;s</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pacman -S nvidia nvidia-utils nvidia-lts
</span></span></code></pre></div><p>‚ÑπÔ∏è <em>Note:</em> Remember including <code>nvidia-lts</code> package if you installed <code>linux-lts</code> kernel.</p><p><figure><img src=./assets/arch_meme2_nvidia.jpg alt class="mx-auto my-0 rounded-md"></figure></p><h4 id=install-hardware-decoding class="relative group">Install hardware decoding <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#install-hardware-decoding aria-label=Anchor>#</a></span></h4><ul><li>For Intel Chipsets</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># pacman -S intel-media-driver</span>
</span></span></code></pre></div><ul><li>For NVidia Chipsets</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># pacman -S libva-mesa-driver</span>
</span></span></code></pre></div><h4 id=modify-special-config-file class="relative group">Modify <code>Special Config File</code> <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#modify-special-config-file aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># vim /etc/mkinitcpio.conf</span>
</span></span></code></pre></div><ul><li>Modify HOOKS to ensure they include encrypted <code>LVM</code> info</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># EDIT</span>
</span></span><span class=line><span class=cl><span class=nv>HOOKS</span><span class=o>=(</span>base systemd autodetect microcode modconf kms keyboard keymap sd-vconsole block filesystems fsck<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add encrypt and lvm2 between block and filesystems</span>
</span></span><span class=line><span class=cl><span class=nv>HOOKS</span><span class=o>=(</span>base systemd autodetect microcode modconf kms keyboard keymap sd-vconsole block encrypt lvm2 filesystems fsck<span class=o>)</span>
</span></span></code></pre></div><p>This is to ensure Kernel knows how to deal with encrypted <code>LVM</code> volumes.</p><h4 id=update-linux-kernel-with-init-details class="relative group">Update Linux Kernel with init details <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#update-linux-kernel-with-init-details aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># mkinitcpio -p linux</span>
</span></span></code></pre></div><p>Make sure you can see the <code>encrypt</code> and <code>lvm2</code> are &ldquo;hooked&rdquo;&mldr;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=hl><span class=lnt>2
</span></span><span class=lnt>3
</span><span class=hl><span class=lnt>4
</span></span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>block<span class=o>]</span>
</span></span><span class="line hl"><span class=cl>  -&gt; Running build hook: <span class=o>[</span>encrypt<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; WARNING: Possibly missing firmware <span class=k>for</span> module: <span class=s1>&#39;qat_6xxx&#39;</span>
</span></span><span class="line hl"><span class=cl>  -&gt; Running build hook: <span class=o>[</span>lvm2<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>filesystems<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>fsck<span class=o>]</span></span></span></code></pre></td></tr></table></div></div><p>Run the same command against <code>linux-lts</code> kernel.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># mkinitcpio -p linux-lts</span>
</span></span></code></pre></div><p>Again, make sure you can see the <code>encrypt</code> and <code>lvm2</code> are &ldquo;hooked&rdquo;&mldr;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=hl><span class=lnt>2
</span></span><span class=hl><span class=lnt>3
</span></span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>block<span class=o>]</span>
</span></span><span class="line hl"><span class=cl>  -&gt; Running build hook: <span class=o>[</span>encrypt<span class=o>]</span>
</span></span><span class="line hl"><span class=cl>  -&gt; Running build hook: <span class=o>[</span>lvm2<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>filesystems<span class=o>]</span>
</span></span><span class=line><span class=cl>  -&gt; Running build hook: <span class=o>[</span>fsck<span class=o>]</span></span></span></code></pre></td></tr></table></div></div><h4 id=set-locale class="relative group">Set Locale <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#set-locale aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># vim /etc/locale.gen</span>
</span></span></code></pre></div><ul><li>Uncomment your Locale</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#en_DK ISO-8859-1</span>
</span></span><span class=line><span class=cl>en_GB.UTF-8 UTF-8
</span></span><span class=line><span class=cl><span class=c1>#en_GB ISO-8859-1</span>
</span></span></code></pre></div><ul><li>Generate locale</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># locale-gen</span>
</span></span><span class=line><span class=cl>Generating locales...
</span></span><span class=line><span class=cl>  en_GB.UTF-8... <span class=k>done</span>
</span></span><span class=line><span class=cl>Generation complete.
</span></span></code></pre></div><h4 id=edit-grub class="relative group">Edit GRUB <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#edit-grub aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># vim /etc/default/grub</span>
</span></span></code></pre></div><p>Edit:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>GRUB_CMDLINE_LINUX_DEFAULT</span><span class=o>=</span><span class=s2>&#34;loglevel=3 quiet&#34;</span>
</span></span></code></pre></div><p>add <code>crypt</code> information so GRUB can load encrypted volume:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>GRUB_CMDLINE_LINUX_DEFAULT</span><span class=o>=</span><span class=s2>&#34;loglevel=3 cryptdevice=/dev/sda3:volgroup0 quiet&#34;</span>
</span></span></code></pre></div><p>ensure cryptodisk is enabled:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>GRUB_ENABLE_CRYPTODISK</span><span class=o>=</span>y
</span></span></code></pre></div><h4 id=setup--efi-partition class="relative group">Setup EFI partition <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#setup--efi-partition aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># mkdir /boot/EFI</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># mount /dev/sda1 /boot/EFI</span>
</span></span><span class=line><span class=cl>mount: <span class=o>(</span>hint<span class=o>)</span> your fstab has been modified, but systemd still uses
</span></span><span class=line><span class=cl>       the old version<span class=p>;</span> use <span class=s1>&#39;systemctl daemon-reload&#39;</span> to reload.
</span></span></code></pre></div><h4 id=install-grub-boot-loader class="relative group">Install <code>GRUB</code> boot loader <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#install-grub-boot-loader aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># grub-install --target=x86_64-efi --bootloader-id=grub_uefi --recheck --no-nvram</span>
</span></span><span class=line><span class=cl>Installing <span class=k>for</span> x86_64-efi platform.
</span></span><span class=line><span class=cl>Installation finished. No error reported.
</span></span></code></pre></div><p>‚ÑπÔ∏è <em>Note:</em> Original command (<code>grub-install --target=x86_64-efi --bootloader-id=grub_uefi --recheck</code>) came back with an error!</p><h4 id=additional-steps class="relative group">Additional steps <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#additional-steps aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cp /usr/share/locale/en<span class=se>\@</span>quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo
</span></span></code></pre></div><ul><li>Generate config for the <code>GRUB</code> bootloader</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># grub-mkconfig -o /boot/grub/grubcfg</span>
</span></span><span class=line><span class=cl>Generating grub configuration file ...
</span></span><span class=line><span class=cl>Found linux image: /boot/vmlinuz-linux-lts
</span></span><span class=line><span class=cl>Found initrd image: /boot/initramfs-linux-lts.img
</span></span><span class=line><span class=cl>Found linux image: /boot/vmlinuz-linux
</span></span><span class=line><span class=cl>Found initrd image: /boot/initramfs-linux.img
</span></span><span class=line><span class=cl>Warning: os-prober will not be executed to detect other bootable partitions.
</span></span><span class=line><span class=cl>Systems on them will not be added to the GRUB boot configuration.
</span></span><span class=line><span class=cl>Check GRUB_DISABLE_OS_PROBER documentation entry.
</span></span><span class=line><span class=cl>Adding boot menu entry <span class=k>for</span> UEFI Firmware Settings ...
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><ul><li>Enable <code>GDM</code> (Gnome Display Manager) to allow graphical login</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># systemctl enable gdm</span>
</span></span><span class=line><span class=cl>Created symlink <span class=s1>&#39;/etc/systemd/system/display-manager.service&#39;</span> ‚Üí <span class=s1>&#39;/usr/lib/systemd/system/gdm.service&#39;</span>.
</span></span></code></pre></div><ul><li>Enable <code>NetworkManager</code> to start with a system</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># systemctl enable NetworkManager</span>
</span></span><span class=line><span class=cl>Created symlink <span class=s1>&#39;/etc/systemd/system/multi-user.target.wants/NetworkManager.service&#39;</span> ‚Üí <span class=s1>&#39;/usr/lib/systemd/system/NetworkManager.service&#39;</span>.
</span></span><span class=line><span class=cl>Created symlink <span class=s1>&#39;/etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service&#39;</span> ‚Üí <span class=s1>&#39;/usr/lib/systemd/system/NetworkManager-dispatcher.service&#39;</span>.
</span></span><span class=line><span class=cl>Created symlink <span class=s1>&#39;/etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service&#39;</span> ‚Üí <span class=s1>&#39;/usr/lib/systemd/system/NetworkManager-wait-online.service&#39;</span>.
</span></span></code></pre></div><ul><li>Exit <code>chroot</code> environment</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@archiso /<span class=o>]</span><span class=c1># exit</span>
</span></span><span class=line><span class=cl><span class=nb>exit</span>
</span></span><span class=line><span class=cl>umount: /mnt/tmp: not mounted.
</span></span><span class=line><span class=cl>umount: /mnt/run: not mounted.
</span></span><span class=line><span class=cl>umount: /mnt/dev/shm: not mounted.
</span></span><span class=line><span class=cl>umount: /mnt/etc/resolv.conf: not mounted.
</span></span><span class=line><span class=cl>arch-chroot /mnt  165.51s user 134.30s system 3% cpu 2:13:36.05 total
</span></span></code></pre></div><ul><li><code>umount</code> all drives mounted before (if any)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@archiso ~ <span class=c1># umount -a</span>
</span></span><span class=line><span class=cl>umount: /run/user/0: target is busy.
</span></span><span class=line><span class=cl>umount: /etc/pacman.d/gnupg: target is busy.
</span></span><span class=line><span class=cl>umount: /sys/fs/cgroup: target is busy.
</span></span><span class=line><span class=cl>umount: /run/archiso/bootmnt: target is busy.
</span></span><span class=line><span class=cl>umount: /run: target is busy.
</span></span><span class=line><span class=cl>umount: /dev: target is busy.
</span></span></code></pre></div><ul><li><code>reboot</code> and pray&mldr;</li></ul><p><figure><img src=./assets/Linux_Dunning_Kruger.jpeg alt class="mx-auto my-0 rounded-md"></figure></p><hr><h2 id=-sources- class="relative group">&#187; Sources &#171; <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#-sources- aria-label=Anchor>#</a></span></h2><ul><li><a href=https://www.learnlinux.tv/how-to-install-arch-linux-a-comprehensive-step-by-step-guide/ target=_blank rel=noreferrer>https://www.learnlinux.tv/how-to-install-arch-linux-a-comprehensive-step-by-step-guide/</a></li><li><a href=https://wiki.archlinux.org/title/Installation_guide target=_blank rel=noreferrer>https://wiki.archlinux.org/title/Installation_guide</a></li><li><a href=https://archlinux.org/ target=_blank rel=noreferrer>https://archlinux.org/</a></li></ul><p><font color=#EBAC25><i>More:</i></font></p><p><font color=#EBAC25><i>LVM:</i></font> <a href=https://en.wikipedia.org/wiki/Logical_Volume_Manager_%28Linux%29 target=_blank rel=noreferrer>https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)</a>
<font color=#EBAC25><i>Install Arch Linux on LVM:</i></font> <a href=https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM target=_blank rel=noreferrer>https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM</a></p><p>üé• VIDEO SPECIFIC LINKS</p><ul><li>Official blog post for this video ‚ûú <a href=https://learnlinux.link/arch-guide target=_blank rel=noreferrer>https://learnlinux.link/arch-guide</a></li><li>Linux Crash Course ‚ûú <a href=https://linux.video/cc target=_blank rel=noreferrer>https://linux.video/cc</a></li><li>Netdata ‚ûú <a href=https://linux.video/netdata target=_blank rel=noreferrer>https://linux.video/netdata</a></li><li>tmux ‚ûú <a href=https://linux.video/tmux target=_blank rel=noreferrer>https://linux.video/tmux</a></li><li>vim ‚ûú <a href=https://linux.video/vim target=_blank rel=noreferrer>https://linux.video/vim</a></li><li>Bash Scripting ‚ûú <a href=https://linux.video/bash target=_blank rel=noreferrer>https://linux.video/bash</a></li><li>Proxmox VE ‚ûú <a href=https://linux.video/pve target=_blank rel=noreferrer>https://linux.video/pve</a></li><li>Ansible (Paid) ‚ûú <a href=https://learnlinux.link/ansible target=_blank rel=noreferrer>https://learnlinux.link/ansible</a></li><li>LPI Linux Essentials (Paid) ‚ûú <a href=https://learnlinux.link/linux-essentials target=_blank rel=noreferrer>https://learnlinux.link/linux-essentials</a></li></ul><p>üéì More About Learn Linux TV</p><ul><li>Main site ‚ûú <a href=https://www.learnlinux.tv target=_blank rel=noreferrer>https://www.learnlinux.tv</a></li><li>Community Forums ‚ûú <a href=https://community.learnlinux.tv target=_blank rel=noreferrer>https://community.learnlinux.tv</a></li><li>Github Account ‚ûú <a href=https://github.com/LearnLinuxTV target=_blank rel=noreferrer>https://github.com/LearnLinuxTV</a></li></ul></div></section></article><div class="not-prose max-w-prose pt-8 print:hidden"><br><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=1070 height=791 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt=RobK loading=lazy decoding=async src=https://robk.uk/img/author_hu_a0ab2d799112de12.jpg srcset="https://robk.uk/img/author_hu_b196e27b0d760e90.jpg 330w,https://robk.uk/img/author_hu_a0ab2d799112de12.jpg 660w
,https://robk.uk/img/author_hu_dfba03629938ce6b.jpg 1024w
,https://robk.uk/img/author.jpg 1070w" sizes=100vw></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">RobK</div><div class="text-sm text-neutral-700 dark:text-neutral-400">DevOps | Agile | AWS | Ansible | Terraform | GitHub Actions | Linux | Windows</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/rtdevx target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://linkedin.com/in/robertkls target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></a></div></div></div></div><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=https://robk.uk/posts/linux/linux-performance-troubleshooting/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span>
<span class="ltr:hidden rtl:inline">&rarr;</span>
</span><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Linux Performance Troubleshooting
</span><span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2025-09-29 00:00:00 +0000 UTC">29 September 2025</time>
</span></span></a></span><span></span></div></div></div></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div><footer class="py-10 print:hidden"><nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/categories/ title=Categories><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Categories</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/tags/ title=Tags><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Tags</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/series/ title=Series><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Series</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/about/ title="About me"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/cheatsheets/blogging/post-template/ title="Hugo Post Template"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">¬ª</span></a></li><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=https://robk.uk/index.xml title><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg></span></span></a></li></ul></nav><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">Copy, <em>right</em>? ü§î</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://robk.uk/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>